@layout('layouts.appfix')
@section('title')
<title>Moleawiz|Dashboard|Cohort| List Cohort</title>
@endsection
@section('style')
<!-- third party css -->
<link href="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css" />
<link href="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-select-bs4/css/select.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<!-- third party css end -->
<style>
.dataTables_length_custom{
  padding-bottom: 0px!important;
}
.dataTables_filter_custom{
  padding-bottom: 0px!important;
}
.search-datatable {
    border-radius: 30px!important;
      /* background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB2ZXJzaW9uPSIxLjEiICAgaWQ9InN2ZzQ0ODUiICAgdmlld0JveD0iMCAwIDIxLjk5OTk5OSAyMS45OTk5OTkiICAgaGVpZ2h0PSIyMiIgICB3aWR0aD0iMjIiPiAgPGRlZnMgICAgIGlkPSJkZWZzNDQ4NyIgLz4gIDxtZXRhZGF0YSAgICAgaWQ9Im1ldGFkYXRhNDQ5MCI+ICAgIDxyZGY6UkRGPiAgICAgIDxjYzpXb3JrICAgICAgICAgcmRmOmFib3V0PSIiPiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+ICAgICAgICA8ZGM6dHlwZSAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4gICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPiAgICAgIDwvY2M6V29yaz4gICAgPC9yZGY6UkRGPiAgPC9tZXRhZGF0YT4gIDxnICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC0xMDMwLjM2MjIpIiAgICAgaWQ9ImxheWVyMSI+ICAgIDxnICAgICAgIHN0eWxlPSJvcGFjaXR5OjAuNSIgICAgICAgaWQ9ImcxNyIgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAuNCw4NjYuMjQxMzQpIj4gICAgICA8cGF0aCAgICAgICAgIGlkPSJwYXRoMTkiICAgICAgICAgZD0ibSAtNTAuNSwxNzkuMSBjIC0yLjcsMCAtNC45LC0yLjIgLTQuOSwtNC45IDAsLTIuNyAyLjIsLTQuOSA0LjksLTQuOSAyLjcsMCA0LjksMi4yIDQuOSw0LjkgMCwyLjcgLTIuMiw0LjkgLTQuOSw0LjkgeiBtIDAsLTguOCBjIC0yLjIsMCAtMy45LDEuNyAtMy45LDMuOSAwLDIuMiAxLjcsMy45IDMuOSwzLjkgMi4yLDAgMy45LC0xLjcgMy45LC0zLjkgMCwtMi4yIC0xLjcsLTMuOSAtMy45LC0zLjkgeiIgICAgICAgICBjbGFzcz0ic3Q0IiAvPiAgICAgIDxyZWN0ICAgICAgICAgaWQ9InJlY3QyMSIgICAgICAgICBoZWlnaHQ9IjUiICAgICAgICAgd2lkdGg9IjAuODk5OTk5OTgiICAgICAgICAgY2xhc3M9InN0NCIgICAgICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLjY5NjQsLTAuNzE3NiwwLjcxNzYsMC42OTY0LC0xNDIuMzkzOCwyMS41MDE1KSIgICAgICAgICB5PSIxNzYuNjAwMDEiICAgICAgICAgeD0iLTQ2LjIwMDAwMSIgLz4gICAgPC9nPiAgPC9nPjwvc3ZnPg==);
      background-repeat: no-repeat;
      background-color: #fff;
      background-position: 0px 3px !important; */

}

.tr-odd{
  border-color: transparent!important;
  background-color: #F7F9FC!important;
}
.tr-even{
  border-color: transparent!important;
  background-color: #FFFFFF!important;
}
.pd-top-pagination{
  padding-top: 16px!important;;
}
.add-button{
   background-color: #FFFFFF!important;
   border-color: #6D757D!important;
}
.add-button:hover {
  border-color: #DF2333!important;
  background-color: #DF2333!important;
  color: white!important;
}
.page-item.active .page-link {
    /* z-index: 3; */
    position: relative;
    display: block;
    color: #fff;
    background-color: #DF2333;
    border-color: #DF2333;
}

/* .nav-bordered a.active {
    border-bottom: 2px solid #DF2333!important;
} */

/* .nav-link:hover {
  border-bottom: 2px solid #DF2333!important;
  color: #6D757D;
} */


  .bottom-wrapper {
      margin-top: 0.5em;
  }
  .top-wrapper {
    margin-bottom: 0.5em;
  }

</style>

@endsection
@section('navbar')
@include('layouts.navbar.navbar_custom')
@endsection

@section('left_sidebar')
@include('layouts.sidebar.sidebar_left_base')
@endsection
@section('content')
<div class="content-page">
  <div class="content">
      @loggedIn
    <input type="hidden" value="{{authUser.firstname +' '+ authUser.lastname}}"  id="auth_name">
@else
   <script>
      window.location.replace("{{route('login')}}");

   </script>
@endloggedIn

      <!-- Start Content-->
      <div class="container-fluid">
        <script>
          let arrAssignments = [];
          let i = 0;
          let j = 0;

        </script>


          <!-- start page title -->
          <div class="row">
            <div class="col-12">
              <div class="page-title-box">
                <div class="page-title-right">
                  <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item  breadcrumb-link"><a class="breadcrumb-link text-hover-color-scheme"  href="{{route('home')}}">HOME</a></li>
                    <li class="breadcrumb-item  breadcrumb-link active">Learners Grouping</li>
                  </ol>
                </div>
                <h4 class="page-title">Learners Grouping</h4>
              </div>
            </div>
          </div>

          <div class="row">
             <div class="col-xl-12">
                <div class="card">
                    <div class="card-body">
                      <b ><h4 id="accordion-learners-grouping-title" class="header-title" style=""></h4></b>


                        <ul class="nav nav-tabs nav-bordered nav-justified" style="font-size: 15px;">
                            <li class="nav-item" style=" color:#6D757D;">
                                <a href="#list-system-cohort" id="tab-list-system-cohort" data-bs-toggle="tab" aria-expanded="false" class="nav-link active">
                                    System learners grouping
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#list-all-cohort" id="tab-list-all-cohort" data-bs-toggle="tab" aria-expanded="false" class="nav-link ">
                                    All learners grouping
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#add-cohort" id="tab-add-cohort"  data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                                    Add new learners grouping
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="list-system-cohort">
                               <div  class="responsive-table-plugin dataTables_wrapper dt-bootstrap4 no-footer">

                                            <div class="row">

                                                <div class="col align-self-start">

                                                </div>

                                                <div class="col align-self-end">

                                                </div>

                                            </div>
                                            <div class="row">


                                                <div class="col-sm-12">
                                                    <table id="datatable-system-cohort" class="table w-100 nowrap"  aria-describedby="datatable-buttons_info" >
                                                <thead style="color: white;  background: #DF2333;">
                                                <tr>

                                                <th valign="middle" >Name</th>
                                                <th valign="middle" >Learners Grouping ID</th>
                                                <th valign="middle" >Description</th>
                                                <th valign="middle" style="text-align: right;" >Learners <br> Grouping Size</th>
                                                <th valign="middle" >Source</th>
                                                <th valign="middle" ></th>
                                                </tr>
                                            </thead>


                                            <tbody>
                                                 @each(data in dataSystems)

                                                <tr style="color:#333333; ">




                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1">
                                                @else
                                                <td valign="middle" style="opacity : 0.4">
                                                @endif
                                                @each(item in data.name_cut)
                                                    {{item}}
                                                    <br/>
                                                @endeach
                                                </td>
                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1; ">
                                                @else
                                                <td valign="middle" style="opacity : 0.4; ">
                                                @endif
                                                @each(item in data.idnumber_cut)
                                                    {{item}}
                                                    <br/>
                                                @endeach
                                                </td>
                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1">
                                                @else
                                                <td valign="middle" style="opacity : 0.4">
                                                @endif
                                                @each(item in data.description_cut)
                                                    {{item}}
                                                    <br/>
                                                @endeach

                                                </td>

                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1; text-align: right;">
                                                @else
                                                <td valign="middle" style="opacity : 0.4; text-align: right;">
                                                @endif
                                                {{ data.getRelated('members').rows.length}}
                                                </td>

                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1; ">
                                                @else
                                                <td valign="middle" style="opacity : 0.4;">
                                                @endif
                                                   Created <br/> manually
                                                </td>

                                                <td valign="middle" >


                                                <div class="dropdown float-end" >
                                                    <a href="#" class="dropdown-toggle arrow-none card-drop text-hover-color-scheme" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="mdi mdi-dots-horizontal"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a href="{{ route('dashboard.user.cohort.assign-user', { id : data.id }) }}" class="tabledit-edit-button dropdown-item btnsignuser" fullname="{{ data.name }}" dataid="{{data.id}}" style="float: none;">Assign</a>
                                                        <a href="{{ route('dashboard.user.cohort.edit', { id : data.id }) }}" class="tabledit-edit-button dropdown-item btnedit-{{data.id}}"  dataid="{{data.id}}" style="float: none;"><!--<span class="mdi mdi-pencil"></span>--> Edit</a>
                                                        @if(data.visible==1 || data.visible=='1')
                                                        <a href="{{ route('dashboard.user.cohort.switch-visible', { id : data.id }) }}" class="dropdown-item"><!--<i class="fas fa-eye-slash"></i>--> Hide </a>
                                                        @else
                                                        <a href="{{ route('dashboard.user.cohort.switch-visible', { id : data.id }) }}" class="dropdown-item"><!--<i class="fas fa-eye"></i>--> Show</a>
                                                        @endif
                                                        <div class="dropdown-divider"></div>
                                                        <a  href="javascript:void(0);" class="dropdown-item btndelete" fullname="{{ data.name  }}" dataid="{{data.id}}" style="float: none;"><!--<span class="mdi mdi-delete"></span>--> Delete</a>

                                                    </div>
                                                </div>
                                                </td>

                                            </tr>




                                            @endeach

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="list-all-cohort">
                                <div  class="responsive-table-plugin dataTables_wrapper dt-bootstrap4 no-footer">

                                            <div class="row">

                                                <div class="col align-self-start">

                                                </div>

                                                <div class="col align-self-end">

                                                </div>

                                            </div>
                                            <div class="row">


                                                <div class="col-sm-12">
                                                    <table id="datatable-semua-cohort" class="table w-100 nowrap" role="grid" aria-describedby="datatable-buttons_info" >
                                                <thead style="color: white;  background: #DF2333;">
                                                <tr style="">
                                                <th valign="middle" >Category</th>
                                                <th valign="middle" style="width: 277.333px;">Name</th>
                                                <th valign="middle" >Learners Grouping ID</th>
                                                <th valign="middle" >Description</th>
                                                <th valign="middle" style="text-align: right;" >Learners <br>
                                                  Grouping  Size</th>
                                                <th valign="middle" >Source</th>
                                                <th valign="middle" ></th>
                                                </tr>
                                            </thead>


                                            <tbody>

                                            @each(data in datas)

                                                <tr style="color:#333333; ">



                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1">
                                                @else
                                                <td valign="middle" style="opacity : 0.4">
                                                @endif
                                                {{ data.contextid == 1 || data.contextid == '1' ? 'System' : 'Non-System'}}
                                                </td>
                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1">
                                                @else
                                                <td valign="middle" style="opacity : 0.4">
                                                @endif
                                                @each(item in data.name_cut)
                                                    {{item}}
                                                    <br/>
                                                @endeach
                                                </td>
                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1; ">
                                                @else
                                                <td valign="middle" style="opacity : 0.4; ">
                                                @endif
                                                @each(item in data.idnumber_cut)
                                                    {{item}}
                                                    <br/>
                                                @endeach
                                                </td>
                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1">
                                                @else
                                                <td valign="middle" style="opacity : 0.4">
                                                @endif
                                                @each(item in data.description_cut)
                                                    {{item}}
                                                    <br/>
                                                @endeach

                                                </td>

                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1; text-align: right;">
                                                @else
                                                <td valign="middle" style="opacity : 0.4; text-align: right;">
                                                @endif
                                                {{ data.getRelated('members').rows.length}}
                                                </td>

                                                @if(data.visible==1 || data.visible=='1')
                                                <td valign="middle" style="opacity : 1; ">
                                                @else
                                                <td valign="middle" style="opacity : 0.4; ">
                                                @endif
                                                   Created <br/> manually
                                                </td>

                                                <td valign="middle" >


                                                <div class="dropdown float-end" >
                                                    <a href="#" class="dropdown-toggle arrow-none card-drop text-hover-color-scheme" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="mdi mdi-dots-horizontal"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a href="{{ route('dashboard.user.cohort.assign-user', { id : data.id }) }}" class="tabledit-edit-button dropdown-item btnsignuser" fullname="{{ data.name }}" dataid="{{data.id}}" style="float: none;">Assign</a>
                                                        <a href="{{ route('dashboard.user.cohort.edit', { id : data.id }) }}" class="tabledit-edit-button dropdown-item btnedit-{{data.id}}"  dataid="{{data.id}}" style="float: none;"><!--<span class="mdi mdi-pencil"></span>--> Edit</a>
                                                        @if(data.visible==1 || data.visible=='1')
                                                        <a href="{{ route('dashboard.user.cohort.switch-visible', { id : data.id }) }}" class="dropdown-item"><!--<i class="fas fa-eye-slash"></i>--> Hide </a>
                                                        @else
                                                        <a href="{{ route('dashboard.user.cohort.switch-visible', { id : data.id }) }}" class="dropdown-item"><!--<i class="fas fa-eye"></i>--> Show</a>
                                                        @endif
                                                        <div class="dropdown-divider"></div>
                                                        <a  href="javascript:void(0);" class="dropdown-item btndelete" fullname="{{ data.name  }}" dataid="{{data.id}}" style="float: none;"><!--<span class="mdi mdi-delete"></span>--> Delete</a>

                                                    </div>
                                                </div>
                                                </td>

                                            </tr>




                                            @endeach
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="add-cohort">
                              <div class="row">
                                <div class="col-lg-7">
                                  <p class="sub-header">There is required field in this form marked <b style="color: #DF2333;">*</b></p>
                                  <form id="add_cohort" action="{{ route('dashboard.user.cohort.store') }}" enctype="multipart/form-data"
                                  method="POST">
                                    {{ csrfField() }}

                                    <div class="row mb-3">
                                      <label for="name" class="col-5 col-xl-4 col-form-label">Name <b style="color: #DF2333;">*</b></label>
                                      <div class="col-8 col-xl-8">
                                        <input type="text" id="name" name="name" class="form-control" style="color:#333333;" value="" required>
                                      </div>
                                      @if(hasErrorFor('name'))
                                        <div class="alert alert-danger alert-dismissible bg-danger text-white border-0 fade show"
                                            role="alert">
                                          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"
                                                  aria-label="Close"></button>
                                          {{ getErrorFor('name') }}
                                        </div>
                                      @endif
                                    </div>

                                    <div class="row mb-3" style="display: none">
                                      <label for="contextid" class="col-5 col-xl-4 col-form-label">Context </label>
                                      <div class="col-8 col-xl-8">
                                        <select name="contextid" class="form-select form-select-custom" style="color:#333333;"  id="contextid" required>

                                          <option value="1" selected="selected">System</option>
                                        </select>
                                      </div>
                                      @if(hasErrorFor('contextid'))
                                        <div class="alert alert-danger alert-dismissible bg-danger text-white border-0 fade show"
                                            role="alert">
                                          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"
                                                  aria-label="Close"></button>
                                          {{ getErrorFor('contextid') }}
                                        </div>
                                      @endif
                                    </div>

                                    <div class="row mb-3">
                                      <label for="idnumber" class="col-5 col-xl-4 col-form-label">Learners grouping ID </label>
                                      <div class="col-8 col-xl-8">
                                        <input type="text" id="idnumber" name="idnumber" class="form-control" style="color:#333333;" value="" required>
                                      </div>
                                      @if(hasErrorFor('idnumber'))
                                        <div class="alert alert-danger alert-dismissible bg-danger text-white border-0 fade show"
                                            role="alert">
                                          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"
                                                  aria-label="Close"></button>
                                          {{ getErrorFor('idnumber') }}
                                        </div>
                                      @endif
                                    </div>

                                    <div class="row mb-3">
                                      <label for="visible" class="col-5 col-xl-4 col-form-label" style="color:#6D757D">Visible
                                        </label>
                                      <div class="col-8 col-xl-8">
                                        <select name="visible"  class="form-select form-select-custom" style="color:#333333;"  id="visible" required>
                                          <option value="1">Yes</option>
                                          <option value="0">No</option>

                                        </select>

                                      </div>
                                      @if(hasErrorFor('visible'))
                                        <div class="alert alert-danger alert-dismissible bg-danger text-white border-0 fade show"
                                            role="alert">
                                          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"
                                                  aria-label="Close"></button>
                                          {{ getErrorFor('visible') }}
                                        </div>
                                      @endif
                                    </div>
                                  </form>
                                    <div class="row mb-3">
                                      <label class="col-5 col-xl-4 form-label"></label>
                                      <div class="col-12 col-xl-8">
                                        <button type="submit" id="add_cohort_submit_btn" class="btn btn-danger waves-effect waves-light col-12 col-xl-8"><i class="mdi mdi-account-multiple-plus"></i>
                                           Create New Learners Grouping
                                        </button>
                                        <a  href="#list-all-cohort" class="btn btn-light waves-effect col-3 col-xl-3"  style="background-color:#F0F2F7; color:#6D757D; float: right;"
                                                style="margin-left: 35px">Cancel
                                        </a>
                                      </div>
                                    </div>

                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- end card-->
            </div> <!-- end col -->

        </div>
        <!-- end row-->

      </div> <!-- container -->

  </div> <!-- content -->

    <!-- Footer Start -->
  @include('layouts.footer')
  <!-- end Footer -->

  @include('layouts.modal_and_alert')

</div>
@endsection
@section('right_sidebar')
@include('layouts.sidebar.sidebar_right_base')
@endsection
@section('script')
<!-- third party js -->
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-buttons/js/buttons.flash.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-buttons/js/buttons.print.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/datatables.net-select/js/dataTables.select.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/pdfmake/build/pdfmake.min.js"></script>
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/pdfmake/build/vfs_fonts.js"></script>
<!-- Sweet Alerts js -->
<script src="{{ BASE_URL() }}/templates/UBold_v5.1.0/Admin/dist/assets/libs/sweetalert2/sweetalert2.all.min.js"></script>

<script>

  $("#accordion-learners-grouping-title").html("System: Available Learners Grouping ("+"{{datas.length}}"+")");
  let dataId =  0;
  let urlDelete = '';
  let tempBorderBottom = "";
  let tempColor        = "";
  $(document).ready(function(){
      $(".mlw-li").hide()
      $(".mlw-li-home").show()
      $(".nav-bordered a.active").css("border-bottom", "2px solid "+ dataThemes.color_scheme);

      $(".nav-item").hover(function(){
        tempBorderBottom = $(this).css("border-bottom");
        tempColor = $(this).css("color");
        $(this).css("border-bottom","2px solid "+ dataThemes.color_scheme);
        $(this).css("color","#6D757D");
      },function(){
        $(this).css("border-bottom", tempBorderBottom);
        $(this).css("color", tempColor);
      });


      @if(flashMessage('notification'))

        /*Swal.fire({
          icon: 'success',
          title: 'Success!',
          text: "{{flashMessage('notification')}}",

        });*/

        $("#title-paragraph-alert-modal-success").html("Success!");
        $("#content-paragraph-alert-modal-success").html("{{flashMessage('notification')}}");
        $("#continue-alert-modal-success").html("Continue");
        $("#info-alert-modal-success").modal('show');

      @endif



   @if(flashMessage('failMessage'))

    Swal.fire({
      icon: 'error',
      title: 'Failed!',
      text: "{{flashMessage('failMessage')}}",

    })
   @endif

    @if(flashMessage('successMessage'))

        /*Swal.fire({
          icon: 'success',
          title: 'Success!',
          text: "{{flashMessage('successMessage')}}",

        })*/
        $("#title-paragraph-alert-modal-success").html("Success!");
        $("#content-paragraph-alert-modal-success").html("{{flashMessage('successMessage')}}");
        $("#continue-alert-modal-success").html("Continue");
        $("#info-alert-modal-success").modal('show');
    @endif


   let url = "{{ BASE_URL() + route('dashboard.role-management.datatable') }}";

  $("#datatable-system-cohort").DataTable({
     columnDefs: [
   				 			{ "orderable": false, "targets": [2,5] },


  							],
      language: {
        search : ' ',

        info: "Showing _START_ to _END_ of _TOTAL_ learners grouping",
        infoEmpty : "Showing 0 to 0 of 0 learners",
        infoFiltered : "(filtered from _MAX_ total learners grouping)"
       },
		  order: [

      ],
      aLengthMenu : [[25, 50, 75, -1], [25, 50, 75, "All"]],
      iDisplayLength: 25,

      "scrollX": true,

     pagingType:
      "full_numbers",
      drawCallback:function(){
        $("thead").css("background",dataThemes.color_scheme);
$(".dataTables_paginate > .pagination").addClass("pagination-default")
        $(".dataTables_info").addClass("pd-top-pagination")
        $(".dataTables_paginate").addClass("pd-top-pagination")
        $(".odd").addClass("tr-odd")
        $(".even").addClass("tr-even")
        $('input[type="search"]').addClass("search-datatable")
        $('input[type="search"]').attr("placeholder", "    Search here");
        $('.dataTables_length').addClass('dataTables_length_custom');
        $('.dataTables_filter').addClass('dataTables_filter_custom');
$(".page-item.active .page-link").css("background-color",dataThemes.color_scheme);
$(".page-item.active .page-link").css("border-color",dataThemes.color_scheme);

      }});

      $(".dataTables_length select").addClass("form-select form-select-sm"),
      $(".dataTables_length select").removeClass("custom-select custom-select-sm"),
      $(".dataTables_length label").addClass("form-label");
      $(".dataTables_filter label").addClass("form-label")




      $("#datatable-semua-cohort").DataTable({
       columnDefs: [
     				 			{ "orderable": false, "targets": [3,6] },


  					],
      language: {
        search : ' ',

        info: "Showing _START_ to _END_ of _TOTAL_ learners grouping",
        infoEmpty : "Showing 0 to 0 of 0 learners",
        infoFiltered : "(filtered from _MAX_ total learners grouping)"
       },
		  order: [
        [0, 'desc'],
      ],
      //autoWidth: true,
      aLengthMenu : [[25, 50, 75, -1], [25, 50, 75, "All"]],
      iDisplayLength: 25,

      //"scrollX": true,

     pagingType:
      "full_numbers",
      drawCallback:function(){
        $("thead").css("background",dataThemes.color_scheme);
$(".dataTables_paginate > .pagination").addClass("pagination-default")
        $(".dataTables_info").addClass("pd-top-pagination")
        $(".dataTables_paginate").addClass("pd-top-pagination")
        $(".odd").addClass("tr-odd")
        $(".even").addClass("tr-even")
        $('input[type="search"]').addClass("search-datatable")
        $('input[type="search"]').attr("placeholder", "    Search here");
        $('.dataTables_length').addClass('dataTables_length_custom');
        $('.dataTables_filter').addClass('dataTables_filter_custom');
        $(".page-item.active .page-link").css("background-color",dataThemes.color_scheme);
        $(".page-item.active .page-link").css("border-color",dataThemes.color_scheme);

      }})

      $(".dataTables_length select").addClass("form-select form-select-sm"),
      $(".dataTables_length select").removeClass("custom-select custom-select-sm"),
      $(".dataTables_length label").addClass("form-label");
      $(".dataTables_filter label").addClass("form-label")








});


   $('.btndelete').on('click', function() {
      let dataid = $(this).attr("dataid");
      let fullname = $(this).attr("fullname");
      let urldelete = "{{ route('dashboard.cohort.soft-delete',{ id : 'data.id' })}}";

      urldelete = urldelete.replace('data.id', dataid);
      $('#top-modal-delete').modal('show');
      dataId =  dataid;
      urlDelete = urldelete;
      let labelDelete = 'Delete Learners Grouping';
      let contentParagraphDelete = "Do you really want to delete learners grouping </br>" + "<b>"+"'"+fullname+"'"+"</b>"+"?";
      let yesDelete = "Delete Learners Grouping";
      let noDelete  = "Never Mind, Keep the Learners Grouping";
      $('#topModalLabelDelete').html(labelDelete);
      $('#content-paragraph-delete').html(contentParagraphDelete);
      $('#yes-delete').html(yesDelete);
      $('#no-delete').html(noDelete);



   })

   $('#yes-delete').on('click', function() {
      window.location.href = urlDelete;
   });

   $('#add_cohort_submit_btn').on('click', function () {
      $('#add_cohort').submit();
   });



   $('#tab-list-system-cohort').on('click', function() {

     $("#datatable-system-cohort").DataTable().columns.adjust().draw();
     $("#accordion-learners-grouping-title").html("System: Available Learners Grouping ("+"{{dataSystems.length}}"+")");
   });
   $('#tab-all-system-cohort').on('click', function() {


      $("#datatable-semua-cohort").DataTable().columns.adjust().draw();
      $("#accordion-learners-grouping-title").html("System: Available Learners Grouping ("+"{{datas.length}}"+")");
   });

   $('#tab-add-cohort').on('click', function() {
      $("#accordion-learners-grouping-title").html("Add New Learners Grouping");
   });




</script>
<!-- third party js ends -->
@endsection
